import java.util.ArrayList;
import java.util.Scanner;

class Bus{
    int busNo;
    int capacity;
    boolean ac;

    Bus(int busNo,int capacity,boolean ac){
        this.busNo=busNo;
        this.capacity=capacity;
        this.ac=ac;
    }

    public int getBusNo() {

        return busNo;
    }

    public void setBusNo(int busNo) {

        this.busNo = busNo;
    }

    public int getCapacity(){
        return capacity;
    }

    public void setCapacity(int capacity) {

        this.capacity = capacity;
    }

    public  boolean getac(){
        return ac;
    }

    public void setAc(boolean ac) {
        this.ac = ac;
    }


    void display() {
        System.out.println("BUS NO:" +busNo+  "CAPACITY:" +capacity+ "A/C :" + ac);
    }
}

class Bookings{
    String Name;
    int busNO;
    int seats;


    Bookings(){
        Scanner sc = new Scanner(System.in);
        System.out.println("ENTER YOUR NAME:");
        Name = sc.nextLine();
        System.out.println("ENTER THE BUS NO:");
        busNO = sc.nextInt();
        System.out.println("ENTER THE SEATS");
        seats = sc.nextInt();

    }
    void display(){
        System.out.println("NAME:"+Name+ "BUS NO:"+busNO+"SEATS:"+seats);
    }

    boolean busBookings(ArrayList<Bus>Buses){
        for (Bus b:Buses){
            if (b.busNo==busNO) {
                if (b.getCapacity() > seats) {
                    b.setCapacity(b.getCapacity() - seats);
                    return true;
                }
            }
        }
        return false;


    }

   static boolean bookingcancel(String Name , ArrayList<Bookings>booking , ArrayList<Bus>Buses){

        for (Bookings b : booking){
            if (b.Name.equalsIgnoreCase(Name)){
                for (Bus bus : Buses){
                    if (b.busNO == bus.busNo){
                        bus.setCapacity(bus.getCapacity() + b.seats);
                        booking.remove(b);
                        return true;
                    }
                }
            }
        }
        return false;
    }
}


 class main {
     public static void main(String[] args) {


         Scanner sc = new Scanner(System.in);

         ArrayList<Bus> Buses = new ArrayList<>();
         ArrayList<Bookings> booking = new ArrayList<>();

         Buses.add(new Bus(1, 50, true));
         Buses.add(new Bus(2, 65, false));


         while (true) {
             for (Bus b : Buses) {
                 b.display();
             }
             System.out.println("1-->BOOK");
             System.out.println("2-->CANCEL");
             System.out.println("3-->SHOW BOOKINGS");


             System.out.println("ENTER YOUR CHOICE:");
             int choice = sc.nextInt();

                 switch (choice) {

                     case 1: {
                         Bookings B = new Bookings();
                         if(B.busBookings(Buses)){
                             booking.add(B);
                             System.out.println("BOOKED");
                         }
                         else {
                             System.out.println("NOT ENOUGH SEATS");
                         }

                         break;
                     }
                     case 2: {
                         sc.nextLine();

                         System.out.println("ENTER YOUR NAME TO CANCEL:");
                         String Name = sc.nextLine();
                         if(Bookings.bookingcancel(Name,booking,Buses)){
                             System.out.println("CANCELED");
                         }
                     }
                     case 3: {
                         if (booking.isEmpty()){
                             System.out.println("NO BOOKINGS");
                         }
                         else {
                             for (Bookings book : booking) {
                                 book.display();
                             }
                         }

                         break;
                     }
                     default: {
                         System.out.println("INVALID CHOICE");
                         break;
                     }


                 }
             }


     }

 }


